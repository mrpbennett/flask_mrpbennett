<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
        <title>Paul Bennett &#183; Pythonista üêç</title>
    

    <!-- TAILWIND CSS  + TYPOGRAPHY -->
    <link rel="stylesheet" href="https://unpkg.com/tailwindcss@^1.5/dist/base.min.css" />
    <link rel="stylesheet" href="https://unpkg.com/tailwindcss@^1.5/dist/components.min.css" />
    <link rel="stylesheet" href="https://unpkg.com/@tailwindcss/typography@0.2.x/dist/typography.min.css"/>
    <link rel="stylesheet" href="https://unpkg.com/tailwindcss@^1.5/dist/utilities.min.css" />

    <!-- CUSTOM CSS -->
    <link href="/static/css/main.css" rel="stylesheet">
</head>
<body class="container mx-auto flex flex-col min-h-screen prose prose pt-10 dark:bg-gray-800">

    <header class="">
        <h1 class="capitalize">paul bennett</h1>

        <nav class="flex">
            <a href="/home/" class="mr-8">Home</a>
            <a href="/about/" class="mr-8">About</a>
            <a href="/blog/">Blog</a>
        </nav>
    </header>

    <!-- MAIN CONTENT -->
    <main class="flex-grow">
        <div>
            

<!-- CONTENT HERE -->
<section>
    <h2 class="capitalize">Rendering nav links with .map() in React.</h2>
    <p>React utilises <code>.map()</code> to render items in a list, this can be great for dynamically adding links to our navigation. Instead of copying the markup, again and again, ill run through how I have used <code>.map()</code> on my navigation.</p>
<p>If you don't know already my site is built on Gatsby a static site generator built on React. Gatsby‚Äôs <a href="https://www.gatsbyjs.org/docs/gatsby-link/"><code>&lt;Link&gt;</code></a> component enables linking to internal pages as well as a powerful performance feature called preloading. </p>
<p>In any situation where you want to link between pages on the same site, use the <code>Link</code> component instead of an <code>a</code> tag.</p>
<pre><code class="language-javascript">// standard a tag
&lt;a href=&quot;/posts&quot;&gt;Posts&lt;/Link&gt;

// Gatsby Link component
&lt;Link to=&quot;/posts&quot;&gt;Posts&lt;/Link&gt;
</code></pre>
<h3>The basis of our navigation</h3>
<p>Let's start off by creating the foundation of our component.</p>
<pre><code class="language-javascript">import React from 'react'
import { Link } from 'gatsby'

const Nav = () =&gt; {

    return()
}

export default Nav
</code></pre>
<h3>Styling our links</h3>
<p>Now we have everything set up we can now add an object called <code>styles</code> this will allow us to use <code>className</code> and <code>activeClassName</code></p>
<p>It‚Äôs often a good idea to show which page is currently being viewed by visually changing the link matching the current page. This can be done by using <code>activeClassName</code> ‚Äî a class name that will only be added to the Link when the current item is active.</p>
<p>As I am using <a href="https://tailwindcss.com/">TailWind</a> here, my styles object is going to look like this:</p>
<pre><code class="language-javascript">const styles = {
        className:'text-gray-600 block px-2 py-1 hover:underline hover:text-gray-900',
        activeClassName: 'underline text-gray-900'
    }
</code></pre>
<p>We can then access those properties by dot notation as follows:</p>
<pre><code class="language-javascript">styles.className
styles.activeClassName
</code></pre>
<h3>Generating Link data.</h3>
<p>Now we have our styles in an object, we can now move on to the Link data we want to pass. This will be an array of objects allowing us to use <code>.map()</code> on the array.</p>
<pre><code class="language-javascript">const links = [
        {
            className: styles.className,
            activeClassName: styles.activeClassName,
            to: '/projects',
            name: 'Projects'
        },
        {
            className: styles.className,
            activeClassName: styles.activeClassName,
            to: '/posts',
            name: 'Posts'
        },
        {
            className: styles.className,
            activeClassName: styles.activeClassName,
            to: '/contact',
            name: 'Contact'
        },
    ]
</code></pre>
<p>Above each object has 4 key pairings. </p>
<ul>
<li><strong>className</strong>: Our link styles</li>
<li><strong>activeClassName</strong>: Our styles for active links</li>
<li><strong>to</strong>: The page we wish to link to once clicked</li>
<li><strong>name</strong>: What we what our link to display on site</li>
</ul>
<p>Our navigation component should now look something like this:</p>
<pre><code class="language-javascript">import React from 'react'
import { Link } from 'gatsby'

const Nav = () =&gt; {

    const styles = {
        className:'text-gray-600 block px-2 py-1 hover:underline hover:text-gray-900',
        activeClassName: 'underline text-gray-900'
    }


    const links = [
        {
            className: styles.className,
            activeClassName: styles.activeClassName,
            to: '/projects',
            name: 'Projects'
        },
        {
            className: styles.className,
            activeClassName: styles.activeClassName,
            to: '/posts',
            name: 'Posts'
        },
        {
            className: styles.className,
            activeClassName: styles.activeClassName,
            to: '/contact',
            name: 'Contact'
        },

    ]

    return ( )
}

export default Nav
</code></pre>
<h3>Adding our data to our markup.</h3>
<p>Within our return statement, we need a parent <code>&lt;div&gt;</code> so lets do that</p>
<pre><code class="language-javascript">return(
    &lt;div&gt;&lt;/div&gt;
)
</code></pre>
<p>You can then build out your navigation bar how ever you like the next bit will be how to dynamically display the links. This can be done by using <code>.map()</code> on our links array of objects as below shows:</p>
<pre><code class="language-javascript">&lt;div&gt;
    {links.map(link =&gt; (&lt;Link className={link.className} activeClassName={link.activeClassName} to={link.to}&gt;{link.name}&lt;/Link&gt; ))}
 &lt;/div&gt;
</code></pre>
<p>When using <code>.map()</code> we have to provide it with a callback function which will be passed every item in the <code>links</code> array. </p>
<p>For the above example, our one required argument for our callback function is <code>link</code> which now allows us to access items on the links array by using dot notation again. If you were to check the Gatsby docs for <code>Link</code> you can see it should look something like this:</p>
<pre><code class="language-javascript">&lt;Link className= activeClassName= to= &gt;&lt;/Link&gt;
</code></pre>
<p>Now this wouldnt do anything so we have to add the following to it so <code>map()</code> can populate it as so:</p>
<pre><code class="language-javascript">&lt;Link className={link.className} activeClassName={link.activeClassName} to={link.to}&gt;{link.name}&lt;/Link&gt;
</code></pre>
<p>If you want to learn more about how <code>map()</code> works you can see that <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map">here</a>.</p>
<h3>Finished Item</h3>
<p>Now we have that in place our navigation component should look like this:</p>
<pre><code class="language-javascript">import React from 'react'
import { Link } from 'gatsby'

const Nav = () =&gt; {    

  const styles = {
        className:'text-gray-600 block px-2 py-1 hover:underline hover:text-gray-900',
        activeClassName: 'underline text-gray-900'
    }    const links = [
        {
            className: styles.className,
            activeClassName: styles.activeClassName,
            to: '/projects',
            name: 'Projects'
        },
        {
            className: styles.className,
            activeClassName: styles.activeClassName,
            to: '/posts',
            name: 'Posts'
        },
        {
            className: styles.className,
            activeClassName: styles.activeClassName,
            to: '/contact',
            name: 'Contact'
        },    
    ]    


    return (
      &lt;div&gt;
          &lt;div&gt;LOGO&lt;/div&gt;
          &lt;div&gt;
         {links.map(link =&gt; (&lt;Link className={link.className} activeClassName={link.activeClassName} to={link.to}&gt;{link.name}&lt;/Link&gt; ))}
         &lt;/div&gt;
      &lt;/div&gt;
    )
}
export default Nav

</code></pre>
<p>Hope this helps. You can see my navigation component <a href="https://github.com/mrpbennett/gatsby-me/blob/master/src/components/nav.js" title="Link to Nav source code">here</a>, if you get stuck you can hit me up on Twitter.</p>
<h3>Learn more about map</h3>
<ul>
<li><a href="https://youtu.be/G3BS3sh3D8Q">Programming with Mosh. .map()</a></li>
<li><a href="https://www.youtube.com/watch?v=bCqtb-Z5YGQ">Part 2 of Functional Programming in JavaScript - Fun Fun Function</a></li>
</ul>
</section>


        </div>
    </main>

    <!-- FOOTER CONTENT -->
    <footer class="">
        <div class="container mx-auto py-3">
            <p class="font-mono text-sm text-center">made with üêç in london 
            </p>
        </div>
    </footer>
    
</body>
</html>